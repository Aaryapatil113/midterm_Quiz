<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>CS5610 Meme Wall</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: #000;
    overflow-x: hidden;
  }

  .feed {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px 0 60px;
  }

  .meme-card {
    width: 100%;
    margin-bottom: 32px;
    opacity: 0;
    transform: translateY(40px);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }

  .meme-card.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .meme-card img {
    width: 100%;
    display: block;
    border-radius: 4px;
  }

  /* Lightbox */
  .lightbox {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.95);
    z-index: 999;
    align-items: center;
    justify-content: center;
  }
  .lightbox.active { display: flex; }
  .lightbox img {
    max-width: 95vw;
    max-height: 95vh;
    object-fit: contain;
    border-radius: 4px;
    animation: zoomIn 0.2s ease;
  }
  @keyframes zoomIn {
    from { transform: scale(0.9); opacity: 0; }
    to   { transform: scale(1);   opacity: 1; }
  }
  .lightbox .close {
    position: fixed;
    top: 16px; right: 20px;
    color: #fff;
    font-size: 2rem;
    cursor: pointer;
    background: none;
    border: none;
    line-height: 1;
  }
</style>
</head>
<body>

<div class="feed" id="feed"></div>

<div class="lightbox" id="lightbox">
  <button class="close" onclick="closeLightbox()">âœ•</button>
  <img id="lb-img" src="" alt="meme"/>
</div>

<script>
  const memes = [
    "meme1.jpg",
    "meme2.jpg",
    "meme3.jpg",
    "meme4.jpg",
    "meme5.jpg",
    "meme6.jpg",
    "meme7.jpg",
    "meme8.jpg",
  ];

  const feed = document.getElementById("feed");

  memes.forEach((src, i) => {
    const card = document.createElement("div");
    card.className = "meme-card";
    card.innerHTML = `<img src="${src}" alt="" loading="lazy"/>`;
    card.querySelector("img").onclick = () => openLightbox(src);
    feed.appendChild(card);
  });

  // Intersection Observer for scroll pop-in
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        e.target.classList.add("visible");
        observer.unobserve(e.target);
      }
    });
  }, { threshold: 0.15 });

  document.querySelectorAll(".meme-card").forEach(c => observer.observe(c));

  function openLightbox(src) {
    document.getElementById("lb-img").src = src;
    document.getElementById("lightbox").classList.add("active");
  }

  function closeLightbox() {
    document.getElementById("lightbox").classList.remove("active");
  }

  document.getElementById("lightbox").addEventListener("click", e => {
    if (e.target === document.getElementById("lightbox")) closeLightbox();
  });

  document.addEventListener("keydown", e => {
    if (e.key === "Escape") closeLightbox();
  });
</script>
</body>
</html>
